{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { setAuth } from '../store/authSlice';\nexport function useLoadingWithRefresh() {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    (async () => {\n      try {\n        const {\n          data\n        } = await axios.get(`${process.env.REACT_APP_API_URL}/api/refresh`, {\n          withCredentials: true\n        });\n        dispatch(setAuth(data));\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n  return {\n    loading\n  };\n}\n\n_s(useLoadingWithRefresh, \"hJqoo2vZ0MjKvP7UMKYtoEITYS4=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"sources":["C:/Users/neha/Desktop/Live Voice Rooms/frontend/src/hooks/useLoadingWithRefresh.js"],"names":["useState","useEffect","axios","useDispatch","setAuth","useLoadingWithRefresh","loading","setLoading","dispatch","data","get","process","env","REACT_APP_API_URL","withCredentials","err","console","log"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,OAAO,SAASC,qBAAT,GAAiC;AAAA;;AACpC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAMQ,QAAQ,GAAGL,WAAW,EAA5B;AACAF,EAAAA,SAAS,CAAC,MAAM;AACZ,KAAC,YAAY;AACT,UAAI;AACA,cAAM;AAAEQ,UAAAA;AAAF,YAAW,MAAMP,KAAK,CAACQ,GAAN,CAClB,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,cADd,EAEnB;AACIC,UAAAA,eAAe,EAAE;AADrB,SAFmB,CAAvB;AAMAN,QAAAA,QAAQ,CAACJ,OAAO,CAACK,IAAD,CAAR,CAAR;AACAF,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OATD,CASE,OAAOQ,GAAP,EAAY;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAR,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,KAdD;AAeH,GAhBQ,EAgBN,EAhBM,CAAT;AAkBA,SAAO;AAAED,IAAAA;AAAF,GAAP;AACH;;GAtBeD,qB;UAEKF,W","sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { setAuth } from '../store/authSlice';\nexport function useLoadingWithRefresh() {\n    const [loading, setLoading] = useState(true);\n    const dispatch = useDispatch();\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await axios.get(\n                    `${process.env.REACT_APP_API_URL}/api/refresh`,\n                    {\n                        withCredentials: true,\n                    }\n                );\n                dispatch(setAuth(data));\n                setLoading(false);\n            } catch (err) {\n                console.log(err);\n                setLoading(false);\n            }\n        })();\n    }, []);\n\n    return { loading };\n}\n"]},"metadata":{},"sourceType":"module"}